import{A as s,o as a,b as e,q as t,a as l,w as n,F as i,d as c,c as p,f as x,t as o,h as r,D as m,k as f,e as u,j as d,v as y,g as _}from"./index-f7e5ffd9.js";import{_ as h,a as k}from"./uni-collapse.4fa23c83.js";import{r as F,C as j}from"./api.a22567d5.js";import{_ as v}from"./abMiniButton.27fc5a10.js";import{d as w}from"./dayjs.min.06707950.js";const Y={__name:"addRecords",props:["recordsList","showBtn"],setup(Y){const b=s=>s.reduce(((s,a)=>s+a.count*a.price),0);return(C,D)=>{const M=_,g=F(s("uni-collapse-item"),h),B=F(s("uni-collapse"),k);return a(),e("div",null,[t("p",{class:"text-16 text-center my-[10px]"},"加菜记录"),l(B,{accordion:!0},{default:n((()=>[(a(!0),e(i,null,c(Y.recordsList,((s,_)=>(a(),p(g,{key:_,class:"text-center","show-animation":!0},{title:n((()=>[l(M,{class:"py-[6px]"},{default:n((()=>[0==_?(a(),e("p",{key:0},[x(" 初始订单 : "),t("span",{class:"text-text3"},o(b(s.items).toFixed(2)),1)])):(a(),e("p",{key:1,class:"flex items-center py-[8px]"},[t("span",{class:"text-14 mr-[8px]"},[x("状态："),t("span",{class:r(s.isFinish?"text-text5":"text-text3")},o(s.isFinish?"已上菜":"准备中"),3)]),t("span",null,[x("第"+o(_)+"次加菜 :",1),t("span",{class:"text-text3 mr-[8px]"},o(b(s.items).toFixed(2)),1)]),t("span",{class:"ml-auto"},[!s.isFinish&&m(f)()?(a(),p(v,{key:0,onClick:u((a=>(async s=>{await j({id:s.id,isFinish:!0}),s.isFinish=!0,y({icon:"success",mask:!0})})(s)),["stop"])},{default:n((()=>[x("设置已上菜")])),_:2},1032,["onClick"])):d("",!0)])]))])),_:2},1024)])),default:n((()=>[l(M,null,{default:n((()=>[t("div",{class:"mb-[6px] text-[12px] text-gray-500"},[t("span",null,[x("下单时间 : "),t("span",null,o(m(w)(s.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])]),t("ul",null,[t("li",{class:"flex text-center text-[12px]"},[t("span",{class:"flex-1"},"菜名"),t("span",{class:"flex-1"},"单价"),t("span",{class:"flex-[0.5]"}),t("span",{class:"flex-1"}," 数量"),t("span",{class:"flex-[0.5]"}),t("span",{class:"flex-1"}," 小记 ")]),(a(!0),e(i,null,c(s.items,(s=>(a(),e("li",{key:s.type,class:"flex text-center text-[12px]"},[t("span",{class:"flex-1"},o(s.name),1),t("span",{class:"flex-1"},o(s.price),1),t("span",{class:"flex-[0.5]"},"*"),t("span",{class:"flex-1"},o(s.count),1),t("span",{class:"flex-[0.5]"},"="),t("span",{class:"flex-1 text-text3"},o((s.price*s.count).toFixed(2)),1)])))),128))])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])}}};export{Y as _};
