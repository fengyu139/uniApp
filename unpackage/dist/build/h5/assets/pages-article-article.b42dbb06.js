import{p as e,s as a,o as l,c as t,w as s,g as n,a as o,f as u,b as i,d as c,t as r,j as p,F as f,D as d,ai as m,y as _,G as x,A as y,i as b}from"./index-98ace898.js";import{_ as k}from"./uni-easyinput.78d3b24e.js";import{b as j,D as v,r as C}from"./api.7b4175c0.js";import{_ as g,a as h}from"./uni-collapse.63ba1327.js";import{_ as w}from"./abButton.3c71e561.js";import{_ as V}from"./abMiniButton.fd5770ce.js";function B(e){const a=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","bmp","webp"].includes(a)}const A={__name:"article",setup(A){const D=e([{title:"",content:"",createTime:"",files:[]}]),I=e(""),T=()=>{E()},E=async()=>{let e=await v({searchValue:I.value});D.value=e};E();const F=()=>{_({url:"/pages/article/addArticle"})};j((async()=>{I.value="",await E(),a()}));return(e,a)=>{const _=C(y("uni-easyinput"),k),j=n,v=b,A=C(y("uni-collapse-item"),g),E=C(y("uni-collapse"),h);return l(),t(j,{class:"p-[16px]"},{default:s((()=>[o(j,{class:"flex items-center"},{default:s((()=>[o(_,{clearable:"",prefixIcon:"search",confirmType:"搜索",modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),onBlur:T,placeholder:"请输入关键字"},null,8,["modelValue"]),o(w,{icon:"plusempty",onClick:F,class:"ml-[10px]"},{default:s((()=>[u("添加")])),_:1})])),_:1}),o(j,null,{default:s((()=>[o(E,null,{default:s((()=>[(l(!0),i(f,null,c(D.value,((e,a)=>(l(),t(A,{key:a,class:"text-center","show-animation":!0,title:e.title},{default:s((()=>[o(j,{class:"pb-[10px]"},{default:s((()=>[e.content?(l(),t(j,{key:0,class:"text-left relative"},{default:s((()=>[o(v,null,{default:s((()=>[u(r(e.content),1)])),_:2},1024),o(V,{icon:"copy",class:"absolute bottom-[-3px]",onClick:a=>{return l=e.content,void m({data:l});var l}},{default:s((()=>[u(" 复制文本")])),_:2},1032,["onClick"])])),_:2},1024)):p("",!0),o(j,{class:"mt-[8px]",style:{border:"1px solid #eee"}},{default:s((()=>[(l(!0),i(f,null,c(e.files,(e=>(l(),t(j,{class:"flex mb-[4px]",key:e},{default:s((()=>[o(v,null,{default:s((()=>[u(r(d(B)(e)?"图片":"文件")+"-",1)])),_:2},1024),o(v,null,{default:s((()=>[u(r(e.slice(e.lastIndexOf("/")+1,e.length)),1)])),_:2},1024),d(B)(e)?(l(),t(V,{key:0,type:"default",onClick:a=>{x({urls:[e]})}},{default:s((()=>[u("预览")])),_:2},1032,["onClick"])):p("",!0),o(V,{type:"default",onClick:a=>(e=>{{let a=document.createElement("a");a.href=e,a.click()}})(e)},{default:s((()=>[u("下载")])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["title"])))),128))])),_:1})])),_:1})])),_:1})}}};export{A as default};
